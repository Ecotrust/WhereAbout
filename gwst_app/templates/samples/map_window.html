<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Panel</title>
<link rel="stylesheet" type="text/css" href="http://extjs.cachefly.net/ext-2.2.1/resources/css/ext-all.css" />
<link rel="stylesheet" type="text/css" href="{{MEDIA_URL}}ext-ux/multiselect/MultiSelect.css"/>

<script type="text/javascript" src="http://extjs.cachefly.net/builds/ext-cdn-771.js"></script>
<script src='http://maps.google.com/maps?file=api&amp;v=2&amp;key=XXXX'></script>
<script src="http://openlayers.org/api/2.8/OpenLayers.js"></script>
<script src="http://svn.geoext.org/core/trunk/geoext/lib/GeoExt.js"></script>

<!--<script type="text/javascript" src="{{MEDIA_URL}}js/extjs/adapter/ext/ext-base.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}js/extjs/ext-all-debug.js"></script>-->
<script type="text/javascript" src="{{MEDIA_URL}}ext-ux/multiselect/MultiSelect.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}ext-ux/multiselect/DDView.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}js/gwst/widgets/WestPanel.js"></script>
<script type="text/javascript" src="{{MEDIA_URL}}js/gwst/widgets/SelectResGrpPanel.js"></script>
<script type="text/javascript">
/**
 * Copyright (c) 2008-2009 The Open Source Geospatial Foundation
 * 
 * Published under the BSD license.
 * See http://svn.geoext.org/core/trunk/geoext/license.txt for the full text
 * of the license.
 */

/** api: example[mappanel-viewport]
 *  Map Panel (in a Viewport)
 *  -------------------------
 *  Render a map panel in a viewport.
 */

var mapPanel;

Ext.onReady(function() {

    // if true a google layer is used, if false
    // the bluemarble WMS layer is used
    var google = false;

    var options, layer;
    var extent = new OpenLayers.Bounds(-5, 35, 15, 55);

    if (google) {

        options = {
            projection: new OpenLayers.Projection("EPSG:900913"),
            units: "m",
            numZoomLevels: 18,
            maxResolution: 156543.0339,
            maxExtent: new OpenLayers.Bounds(-20037508, -20037508,
                                             20037508, 20037508.34)
        };

        layer = new OpenLayers.Layer.Google(
            "Google Satellite",
            {type: G_SATELLITE_MAP, sphericalMercator: true}
        );

        extent.transform(
            new OpenLayers.Projection("EPSG:4326"), options.projection
        );

    } else {
        layer = new OpenLayers.Layer.WMS(
            "Global Imagery",
            "http://maps.opengeo.org/geowebcache/service/wms",
            {layers: "bluemarble"},
            {isBaseLayer: true}
        );
    }

    var map = new OpenLayers.Map(options);

    new Ext.Viewport({
        layout: "border",
        items: [{
            region: "center",
            id: "mappanel",
			border: false,
            xtype: "gx_mappanel",
            map: map,
            layers: [layer],
            extent: extent,
            split: true
        }, new gwst.widgets.SelectResGrpPanel({
            region: "west",
            res_group_name: 'Species',
            split: true
        })]
    });

    mapPanel = Ext.getCmp("mappanel");
});

/*	

	var p = new gwst.widgets.SelectResGrpPanel({
        renderTo: 'panel-basic',    		
		res_group_name: 'Species'
    });
*/
</script>
</head>
<body>
</body>
</html>
